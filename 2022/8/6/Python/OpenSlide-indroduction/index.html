<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>OpenSlide indroduction | Hui Wang&#39;s Blog</title>
  <meta name="baidu-site-verification" content="yXEzwss0jm">
  <meta name="360-site-verification" content="878e013ea1c0235dec34a8b1c676cf65">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="PHP,Laravel,JavaScript,Jquery,Linux,前端博客">
  
  <meta name="description" content="What is OpenSlide? How to install OpenSlide and OpenSlide Python in Ubuntu and Windows? OpenSlide tutorial, read medical images with OpenSlide.">
<meta name="keywords" content="OpenSlide,WSI,Digital pathology">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenSlide indroduction">
<meta property="og:url" content="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/index.html">
<meta property="og:site_name" content="Hui Wang&#39;s Blog">
<meta property="og:description" content="What is OpenSlide? How to install OpenSlide and OpenSlide Python in Ubuntu and Windows? OpenSlide tutorial, read medical images with OpenSlide.">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://openslide.org/images/openslide_logo.png">
<meta property="og:image" content="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/windows-download-openslide.PNG">
<meta property="og:image" content="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/packagenotfounderror.PNG">
<meta property="og:image" content="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/pip-install.PNG">
<meta property="og:image" content="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/entry-point-not-found.PNG">
<meta property="og:image" content="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/conda-activate-error.PNG">
<meta property="og:image" content="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/conda-list.PNG">
<meta property="og:image" content="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/import-openslide.PNG">
<meta property="og:updated_time" content="2022-08-06T16:08:16.511Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="OpenSlide indroduction">
<meta name="twitter:description" content="What is OpenSlide? How to install OpenSlide and OpenSlide Python in Ubuntu and Windows? OpenSlide tutorial, read medical images with OpenSlide.">
<meta name="twitter:image" content="https://openslide.org/images/openslide_logo.png">
  
    <link rel="alternate" href="/sitemap.xml" title="Hui Wang&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'true', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-98739349-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-98739349-1');
</script>


  
<!-- Google Adscene -->
<script data-ad-client="ca-pub-8701685410355750" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- End Google Analytics -->


  
    <!-- CNZZ Analytics -->
    <script type="text/javascript">document.write(unescape("%3Cspan id='cnzz_stat_icon_1257809326'%3E%3C/span%3E%3Cscript src='https://s95.cnzz.com/z_stat.php%3Fid%3D1257809326' type='text/javascript'%3E%3C/script%3E"));</script>
    <style>
        span#cnzz_stat_icon_1257809326 {display:none;}
    </style>
    <!-- End CNZZ Analytics -->



  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.15.1/katex.min.css" rel="stylesheet" type="text/css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hui Wang&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Keep going</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about/eng.html">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/sitemap.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://www.xydida.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-OpenSlide-indroduction" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2022/8/6/Python/OpenSlide-indroduction/" class="article-date">
  <time datetime="2022-08-06T08:16:01.000Z" itemprop="datePublished">2022-08-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      OpenSlide indroduction
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- Table of Contents -->
        
          <div id="toc" class="toc-article">
            <strong class="toc-title">Table of content</strong>
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#openslide"><span class="toc-number">1.</span> <span class="toc-text"> OpenSlide</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#windows-install"><span class="toc-number">2.</span> <span class="toc-text"> Windows install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#problems"><span class="toc-number">3.</span> <span class="toc-text"> Problems</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ubuntu-install"><span class="toc-number">4.</span> <span class="toc-text"> Ubuntu install</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#wsi-operation"><span class="toc-number">5.</span> <span class="toc-text"> WSI operation</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#read-slide-and-close"><span class="toc-number">5.1.</span> <span class="toc-text"> read slide and close</span></a></li></ol></li></ol>
          </div>
        

        <img src="https://openslide.org/images/openslide_logo.png" title="" alt="">
<h1 id="openslide"><a class="markdownIt-Anchor" href="#openslide"></a> OpenSlide</h1>
<p><a href="https://openslide.org/" target="_blank" rel="noopener">https://openslide.org/</a></p>
<p>OpenSlide is a C library that provides simple interfaces to process Whole-Slide-Images (also known as virtual slides). WSIs are very high resolution images used in digital pathology. These images usually have several gigabytes and can not be easily read with standard tools or libraries because the uncompressed images often occupy tens of gigabytes which consume huge of RAM. WSI is scanned with multi-resolution, while OpenSlide can support read a small amount of image data at the resolution closest to a specifical magnification level.</p>
<p>OpenSlide supports many popular WSI format:</p>
<ul>
<li>Aperio (.svs, .tif)</li>
<li>Hamamatsu (.ndpi, .vms, .vmu)</li>
<li>Leica (.scn)</li>
<li>MIRAX (.mrxs)</li>
<li>Philips (.tiff)</li>
<li>Sakura (.svslide)</li>
<li>Trestle (.tif)</li>
<li>Ventana (.bif, .tif)</li>
<li>Generic tiled TIFF (.tif)</li>
</ul>
<p>Although it is written by C, Python and Java bindings are also provided, and some other bindings are contributed in the Github such as Ruby, Rust.</p>
<a id="more"></a>
<p>In this post, I’ll introduce how ot install <code>OpenSlide</code> and <code>OpenSlide-Python</code> binding in <code>Windows</code> and <code>Ubuntu</code>, and give some examples.</p>
<h1 id="windows-install"><a class="markdownIt-Anchor" href="#windows-install"></a> Windows install</h1>
<p><code>OpenSlide</code> and <code>OpenSlide-Python</code> are different,that must be installed seperately. <code>OpenSlide</code> is the core library, while the other is the implementation of the interface.</p>
<p>OpenSlide Python document: <a href="https://openslide.org/api/python/" target="_blank" rel="noopener">https://openslide.org/api/python/</a></p>
<p>Download OpenSlide: <a href="https://openslide.org/download/" target="_blank" rel="noopener">https://openslide.org/download/</a></p>
<img src="/2022/8/6/Python/OpenSlide-indroduction/windows-download-openslide.PNG" alt="windows binaries">
<p>First, download OpenSlide windows binaries and extract them to a folder.</p>
<p>Sencond, install <code>OpenSlide Python</code> package. It is not recommended to install <code>OpenSlide Python</code> with <code>conda</code> here, I have tried several times with <code>conda</code>, but got the PackageNotFoundError:</p>
<img src="/2022/8/6/Python/OpenSlide-indroduction/packagenotfounderror.PNG" alt="Package not found">
<p>To work around, use <code>pip</code> to install:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install openslide-python</span><br></pre></td></tr></table></figure>
<img src="/2022/8/6/Python/OpenSlide-indroduction/pip-install.PNG" alt="install with pip">
<p>In my computer, <code>openslide-python 1.2.0</code> is installed.</p>
<p>Then, according to the <a href="https://openslide.org/api/python/#installing" target="_blank" rel="noopener">document</a>, in <code>Python</code>, import in a <code>with os.add_dll_directory()</code> statement:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># The path can also be read from a config file, etc.</span><br><span class="line">OPENSLIDE_PATH = r&apos;c:\path\to\openslide-win64\bin&apos;</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line">if hasattr(os, &apos;add_dll_directory&apos;):</span><br><span class="line">    # Python &gt;= 3.8 on Windows</span><br><span class="line">    with os.add_dll_directory(OPENSLIDE_PATH):</span><br><span class="line">        import openslide</span><br><span class="line">else:</span><br><span class="line">    import openslide</span><br></pre></td></tr></table></figure>
<h1 id="problems"><a class="markdownIt-Anchor" href="#problems"></a> Problems</h1>
<p>However, when importing the openslide’s python binding, I got the <code>WinError 127</code>, here is my error message:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">---------------------------------------------------------------------------</span><br><span class="line">OSError                                   Traceback (most recent call last)</span><br><span class="line">&lt;ipython-input<span class="number">-2</span>-f3638bbb3565&gt; <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">      <span class="number">7</span>     <span class="comment"># Python &gt;= 3.8 on Windows</span></span><br><span class="line">      <span class="number">8</span>     <span class="keyword">with</span> os.add_dll_directory(OPENSLIDE_PATH):</span><br><span class="line">----&gt; 9         import openslide</span><br><span class="line">     <span class="number">10</span> <span class="keyword">else</span>:</span><br><span class="line">     <span class="number">11</span>     <span class="keyword">import</span> openslide</span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\site-packages\openslide\__init__.py <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">     <span class="number">28</span> <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">     <span class="number">29</span> </span><br><span class="line">---&gt; 30 from openslide import lowlevel</span><br><span class="line">     <span class="number">31</span> </span><br><span class="line">     <span class="number">32</span> <span class="comment"># For the benefit of library users</span></span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\site-packages\openslide\lowlevel.py <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">     <span class="number">52</span> <span class="keyword">if</span> platform.system() == <span class="string">'Windows'</span>:</span><br><span class="line">     <span class="number">53</span>     <span class="keyword">try</span>:</span><br><span class="line">---&gt; 54         _lib = cdll.LoadLibrary('libopenslide-0.dll')</span><br><span class="line">     <span class="number">55</span>     <span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">     <span class="number">56</span>         <span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\ctypes\__init__.py <span class="keyword">in</span> LoadLibrary(self, name)</span><br><span class="line">    <span class="number">457</span> </span><br><span class="line">    <span class="number">458</span>     <span class="function"><span class="keyword">def</span> <span class="title">LoadLibrary</span><span class="params">(self, name)</span>:</span></span><br><span class="line">--&gt; 459         return self._dlltype(name)</span><br><span class="line">    <span class="number">460</span> </span><br><span class="line">    <span class="number">461</span> cdll = LibraryLoader(CDLL)</span><br><span class="line"></span><br><span class="line">C:\ProgramData\Anaconda3\lib\ctypes\__init__.py <span class="keyword">in</span> __init__(self, name, mode, handle, use_errno, use_last_error, winmode)</span><br><span class="line">    <span class="number">379</span> </span><br><span class="line">    <span class="number">380</span>         <span class="keyword">if</span> handle <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">--&gt; 381             self._handle = _dlopen(self._name, mode)</span><br><span class="line">    <span class="number">382</span>         <span class="keyword">else</span>:</span><br><span class="line">    <span class="number">383</span>             self._handle = handle</span><br><span class="line"></span><br><span class="line">OSError: [WinError <span class="number">127</span>] The specified procedure could <span class="keyword">not</span> be found</span><br></pre></td></tr></table></figure>
<p>And it alerted “Entry point not found”:</p>
<img src="/2022/8/6/Python/OpenSlide-indroduction/entry-point-not-found.PNG" alt="Entry point not found">
<p>I was stucked in this problem and has tried just every solution I found with no success.</p>
<p>Until I found a solution in <a href="https://stackoverflow.com/a/64176144" target="_blank" rel="noopener">Stackoverflow</a>, It may seems that I was trapped in “DLL Hell”.</p>
<blockquote>
<p>There is a Windows DLL file that is taking precedence over the DLL file python needs in this source code. You need to prepend the PATH variable in your Python binding module before calling the C openslide library with the full path of the bin folder where the C openslide library DLL files reside. This will override the Windows “zlib1.dll” file by using the OpenSlide “zlib1.dll” file. -author: MacGyver</p>
</blockquote>
<p>So, I tried to prepend openslide <code>bin</code> path in the <code>PATH</code> environment. It did work! The whole import code:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The path can also be read from a config file, etc.</span></span><br><span class="line">OPENSLIDE_PATH = <span class="string">r'c:\path\to\openslide-win64\bin'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># solve dll hell</span></span><br><span class="line">os.environ[<span class="string">'PATH'</span>] = OPENSLIDE_PATH + <span class="string">";"</span> + os.environ[<span class="string">'PATH'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># import openslide</span></span><br><span class="line"><span class="keyword">if</span> hasattr(os, <span class="string">'add_dll_directory'</span>):</span><br><span class="line">    <span class="comment"># Python &gt;= 3.8 on Windows</span></span><br><span class="line">    <span class="keyword">with</span> os.add_dll_directory(OPENSLIDE_PATH):</span><br><span class="line">        <span class="keyword">import</span> openslide</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">import</span> openslide</span><br></pre></td></tr></table></figure>
<h1 id="ubuntu-install"><a class="markdownIt-Anchor" href="#ubuntu-install"></a> Ubuntu install</h1>
<p>If you have <code>root</code> permission, you can install <code>openslide</code> directly by <code>apt</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">## OpenSlide</span></span><br><span class="line">apt-get install openslide-tools</span><br><span class="line"></span><br><span class="line"><span class="comment">## OpenSlide Python</span></span><br><span class="line">apt-get install python3-openslide</span><br></pre></td></tr></table></figure>
<p>Just follow the openslide document, <a href="https://openslide.org/download/#distribution-packages" target="_blank" rel="noopener">https://openslide.org/download/#distribution-packages</a></p>
<p>But, if you are in a restricted environment where you don’t have the permission to install with <code>apt</code>, <code>conda</code> is an altenative method.</p>
<p>Here, I will use <code>miniconda</code> which is a minimal installer for conda (<a href="https://docs.conda.io/en/latest/miniconda.html" target="_blank" rel="noopener">https://docs.conda.io/en/latest/miniconda.html</a>).</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line">bash Miniconda3-latest-Linux-x86_64.sh -b -p miniconda3 -s</span><br><span class="line">rm Miniconda3-latest-Linux-x86_64.sh</span><br><span class="line">conda=miniconda3/bin/conda</span><br><span class="line"><span class="variable">$conda</span> create -y -n openslide</span><br></pre></td></tr></table></figure>
<p>The commands above will download the latest miniconda and setup a <code>$conda</code> local variable for the convinent. Then create an environment called ‘openslide’. If you want to add other packages or specific python version, visit <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#viewing-a-list-of-your-environments" target="_blank" rel="noopener">https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#viewing-a-list-of-your-environments</a></p>
<p>Until now, it works smoothly. But reached out an error when activated the environment.</p>
<img src="/2022/8/6/Python/OpenSlide-indroduction/conda-activate-error.PNG" alt="Command Not Found Error">
<p>Follow the instruction, I closed and reconnected to the shell, the <code>base</code> environment was activated successfully. It doesn’t matter because I can install openslide with conda.</p>
<p>Run one of the following, <a href="https://anaconda.org/conda-forge/openslide:" target="_blank" rel="noopener">https://anaconda.org/conda-forge/openslide:</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda install -c conda-forge openslide</span><br><span class="line">conda install -c conda-forge/label/cf202003 openslide</span><br></pre></td></tr></table></figure>
<p>Then, let’s install <code>openslide-python</code>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install openslide-python</span><br></pre></td></tr></table></figure>
<p>Check it:</p>
<img src="/2022/8/6/Python/OpenSlide-indroduction/conda-list.PNG" alt="list the packages">
<p>And import openslide:</p>
<img src="/2022/8/6/Python/OpenSlide-indroduction/import-openslide.PNG" alt="import openslide">
<h1 id="wsi-operation"><a class="markdownIt-Anchor" href="#wsi-operation"></a> WSI operation</h1>
<p>Now, I can read the Whole-Slide-Images with OpenSlide.</p>
<h2 id="read-slide-and-close"><a class="markdownIt-Anchor" href="#read-slide-and-close"></a> read slide and close</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">slide = openslide.OpenSlide(<span class="string">r'F17-011490.ndpi'</span>)</span><br><span class="line">print(dir(slide))</span><br><span class="line">slide.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">[<span class="string">'__class__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__dict__'</span>, <span class="string">'__dir__'</span>, <span class="string">'__doc__'</span>,</span><br><span class="line"><span class="string">'__enter__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__exit__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>, </span><br><span class="line"><span class="string">'__getattribute__'</span>, <span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__init__'</span>, </span><br><span class="line"><span class="string">'__init_subclass__'</span>, <span class="string">'__le__'</span>, <span class="string">'__lt__'</span>, <span class="string">'__module__'</span>, <span class="string">'__ne__'</span>, </span><br><span class="line"><span class="string">'__new__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__setattr__'</span>, </span><br><span class="line"><span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>, <span class="string">'__weakref__'</span>, </span><br><span class="line"><span class="string">'_filename'</span>, <span class="string">'_osr'</span>, <span class="string">'associated_images'</span>, <span class="string">'close'</span>, <span class="string">'detect_format'</span>, </span><br><span class="line"><span class="string">'dimensions'</span>, <span class="string">'get_best_level_for_downsample'</span>, <span class="string">'get_thumbnail'</span>, </span><br><span class="line"><span class="string">'level_count'</span>, <span class="string">'level_dimensions'</span>, <span class="string">'level_downsamples'</span>, <span class="string">'properties'</span>, </span><br><span class="line"><span class="string">'read_region'</span>, <span class="string">'set_cache'</span>]</span><br></pre></td></tr></table></figure>
<p>If there is no error and get the same result, congratulations that it works!</p>
<p>The slide object has some useful functions to use, such as <code>level_count</code> return total number of level, <code>level_dimensions</code> return the dimension for thar target level of the slide.</p>
<p>In my task, I need to read a small part in the WSI at the target level, OpenSlide provides <code>read_region(location, level, size)</code> that can simplify my work.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">slide = openslide.OpenSlide(<span class="string">r'F17-011490.ndpi'</span>)</span><br><span class="line"><span class="comment"># first parameter location is a tuple that contains the left top point </span></span><br><span class="line"><span class="comment"># of the tissue tile, it is the original pixel in source image.</span></span><br><span class="line"><span class="comment"># third parameter size is also a tuple that contains the width and </span></span><br><span class="line"><span class="comment"># height of the tissue tile, it is the reduced size!</span></span><br><span class="line">patch = slide.read_region((<span class="number">1407</span> * <span class="number">32</span>, <span class="number">1156</span> * <span class="number">32</span>), <span class="number">5</span>, (<span class="number">240</span>, <span class="number">160</span>))</span><br><span class="line"><span class="comment"># matplotlib read the image</span></span><br><span class="line">plt.imshow(patch)</span><br><span class="line">plt.show()</span><br><span class="line">slide.close()</span><br></pre></td></tr></table></figure>
<p>For the full usage, please visit <a href="https://openslide.org/api/python/#basic-usage" target="_blank" rel="noopener">https://openslide.org/api/python/#basic-usage</a></p>
<p>Happy coding.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.xydida.com/2022/8/6/Python/OpenSlide-indroduction/" data-id="cl6i3p1nf000qrncah89zmnfk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Digital-pathology/">Digital pathology</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OpenSlide/">OpenSlide</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WSI/">WSI</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2022/8/6/notes/404.html/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          404 Not Found
        
      </div>
    </a>
  
  
    <a href="/2022/5/6/Programming-Language/Learn-Prolog/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Learn Prolog</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Artificial-Intelligence/">Artificial Intelligence</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ComputerVision/">ComputerVision</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DSP/">DSP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Deep-learning/">Deep learning</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Devops/">Devops</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Electron/">Electron</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Networks/">Networks</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Neural-Network/">Neural Network</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Object-Oriented/">Object Oriented</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Programming-Language/">Programming Language</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Reading/">Reading</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Regular-Expression/">Regular Expression</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tools/">Tools</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/VPS/">VPS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Yangmao/">Yangmao</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/frontend/">frontend</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/macOS/">macOS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/notes/">notes</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/小程序/">小程序</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/微信/">微信</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计/">设计</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/2021/" style="font-size: 10px;">2021</a> <a href="/tags/AI/" style="font-size: 10px;">AI</a> <a href="/tags/API/" style="font-size: 13.33px;">API</a> <a href="/tags/Artificial-Intelligence/" style="font-size: 11.67px;">Artificial Intelligence</a> <a href="/tags/Big-Sur/" style="font-size: 10px;">Big Sur</a> <a href="/tags/C/" style="font-size: 10px;">C#</a> <a href="/tags/CSS/" style="font-size: 16.67px;">CSS</a> <a href="/tags/DIGITS/" style="font-size: 10px;">DIGITS</a> <a href="/tags/DNS/" style="font-size: 10px;">DNS</a> <a href="/tags/DSP/" style="font-size: 10px;">DSP</a> <a href="/tags/Digital-pathology/" style="font-size: 10px;">Digital pathology</a> <a href="/tags/Eloquent/" style="font-size: 10px;">Eloquent</a> <a href="/tags/Ethics/" style="font-size: 10px;">Ethics</a> <a href="/tags/Go/" style="font-size: 10px;">Go</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Javascript/" style="font-size: 13.33px;">Javascript</a> <a href="/tags/Laravel/" style="font-size: 11.67px;">Laravel</a> <a href="/tags/LeNet/" style="font-size: 10px;">LeNet</a> <a href="/tags/Linux/" style="font-size: 16.67px;">Linux</a> <a href="/tags/Lloyds-bank/" style="font-size: 10px;">Lloyds bank</a> <a href="/tags/Lumen/" style="font-size: 10px;">Lumen</a> <a href="/tags/MNIST/" style="font-size: 10px;">MNIST</a> <a href="/tags/Matlab/" style="font-size: 10px;">Matlab</a> <a href="/tags/MySQL/" style="font-size: 11.67px;">MySQL</a> <a href="/tags/Nginx/" style="font-size: 10px;">Nginx</a> <a href="/tags/Object-Oriented/" style="font-size: 10px;">Object Oriented</a> <a href="/tags/Objective-C/" style="font-size: 10px;">Objective-C</a> <a href="/tags/OpenSlide/" style="font-size: 10px;">OpenSlide</a> <a href="/tags/PHP/" style="font-size: 20px;">PHP</a> <a href="/tags/PHPStorm/" style="font-size: 10px;">PHPStorm</a> <a href="/tags/PSR/" style="font-size: 10px;">PSR</a> <a href="/tags/Perl/" style="font-size: 10px;">Perl</a> <a href="/tags/Prolog/" style="font-size: 10px;">Prolog</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/Reflection/" style="font-size: 10px;">Reflection</a> <a href="/tags/Ruby/" style="font-size: 10px;">Ruby</a> <a href="/tags/SICP/" style="font-size: 10px;">SICP</a> <a href="/tags/Server/" style="font-size: 15px;">Server</a> <a href="/tags/Slim/" style="font-size: 10px;">Slim</a> <a href="/tags/Something/" style="font-size: 10px;">Something</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/Tmux/" style="font-size: 10px;">Tmux</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UK/" style="font-size: 11.67px;">UK</a> <a href="/tags/UniApp/" style="font-size: 10px;">UniApp</a> <a href="/tags/VB-NET/" style="font-size: 10px;">VB.NET</a> <a href="/tags/VPS/" style="font-size: 10px;">VPS</a> <a href="/tags/VirtualBox/" style="font-size: 10px;">VirtualBox</a> <a href="/tags/Vue/" style="font-size: 11.67px;">Vue</a> <a href="/tags/Vultr/" style="font-size: 10px;">Vultr</a> <a href="/tags/WSI/" style="font-size: 10px;">WSI</a> <a href="/tags/angular/" style="font-size: 10px;">angular</a> <a href="/tags/array-key-exists/" style="font-size: 10px;">array_key_exists</a> <a href="/tags/array-search/" style="font-size: 10px;">array_search</a> <a href="/tags/autoload/" style="font-size: 10px;">autoload</a> <a href="/tags/babel/" style="font-size: 10px;">babel</a> <a href="/tags/canvas/" style="font-size: 10px;">canvas</a> <a href="/tags/convolution/" style="font-size: 10px;">convolution</a> <a href="/tags/cover-view/" style="font-size: 11.67px;">cover-view</a> <a href="/tags/cryptography/" style="font-size: 10px;">cryptography</a> <a href="/tags/curl/" style="font-size: 10px;">curl</a> <a href="/tags/decrypt/" style="font-size: 10px;">decrypt</a> <a href="/tags/deep-learning/" style="font-size: 10px;">deep learning</a> <a href="/tags/edge-detect/" style="font-size: 10px;">edge detect</a> <a href="/tags/efficiency/" style="font-size: 10px;">efficiency</a> <a href="/tags/electron/" style="font-size: 11.67px;">electron</a> <a href="/tags/emoji/" style="font-size: 10px;">emoji</a> <a href="/tags/encrypt/" style="font-size: 10px;">encrypt</a> <a href="/tags/event-loop/" style="font-size: 10px;">event-loop</a> <a href="/tags/few-shot-classification/" style="font-size: 11.67px;">few-shot classification</a> <a href="/tags/filter/" style="font-size: 11.67px;">filter</a> <a href="/tags/firewall/" style="font-size: 10px;">firewall</a> <a href="/tags/framework/" style="font-size: 10px;">framework</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/gulp/" style="font-size: 10px;">gulp</a> <a href="/tags/image-processing/" style="font-size: 13.33px;">image processing</a> <a href="/tags/in-array/" style="font-size: 10px;">in_array</a> <a href="/tags/interviews/" style="font-size: 10px;">interviews</a> <a href="/tags/javascript/" style="font-size: 13.33px;">javascript</a> <a href="/tags/kernel/" style="font-size: 10px;">kernel</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/macOS/" style="font-size: 10px;">macOS</a> <a href="/tags/machine-learning/" style="font-size: 10px;">machine learning</a> <a href="/tags/math/" style="font-size: 10px;">math</a> <a href="/tags/networks/" style="font-size: 11.67px;">networks</a> <a href="/tags/neural-network/" style="font-size: 10px;">neural network</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/noise/" style="font-size: 10px;">noise</a> <a href="/tags/notes/" style="font-size: 16.67px;">notes</a> <a href="/tags/npm/" style="font-size: 11.67px;">npm</a> <a href="/tags/performance/" style="font-size: 10px;">performance</a> <a href="/tags/permission/" style="font-size: 10px;">permission</a> <a href="/tags/postgraduate/" style="font-size: 11.67px;">postgraduate</a> <a href="/tags/reading/" style="font-size: 10px;">reading</a> <a href="/tags/routing/" style="font-size: 10px;">routing</a> <a href="/tags/sobel/" style="font-size: 10px;">sobel</a> <a href="/tags/summary/" style="font-size: 10px;">summary</a> <a href="/tags/tools/" style="font-size: 10px;">tools</a> <a href="/tags/ufw/" style="font-size: 10px;">ufw</a> <a href="/tags/公众号阅读笔记/" style="font-size: 10px;">公众号阅读笔记</a> <a href="/tags/小程序/" style="font-size: 18.33px;">小程序</a> <a href="/tags/微信/" style="font-size: 13.33px;">微信</a> <a href="/tags/羊毛/" style="font-size: 10px;">羊毛</a> <a href="/tags/软件设计/" style="font-size: 10px;">软件设计</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/8/6/notes/404.html/">404 Not Found</a>
          </li>
        
          <li>
            <a href="/2022/8/6/Python/OpenSlide-indroduction/">OpenSlide indroduction</a>
          </li>
        
          <li>
            <a href="/2022/5/6/Programming-Language/Learn-Prolog/">Learn Prolog</a>
          </li>
        
          <li>
            <a href="/2022/3/20/Deep-learning/Training-Model-on-Nvidia-Digits/">Training Model on Nvidia DIGITS</a>
          </li>
        
          <li>
            <a href="/2022/2/27/ComputerVision/salt-and-pepper-noise/">Salt Pepper噪声以及使用median filter来减少噪声</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 bilberry<br>
      Powered by <a href="http://hexo.io/" target="_blank" rel="nofollow">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about/eng.html" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>